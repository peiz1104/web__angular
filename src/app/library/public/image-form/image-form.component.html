<form #imageForm="ngForm" (submit)="onSubmit(imageForm)" class="form-horizontal" *ngIf="image">
  <div class="row">
    <div class="col-7">
      <div class="form-group row">
        <label for="" class="col-3 col-form-label">
          <i class="fa fa-field-required"></i> 名称</label>
        <div class="col-9">
          <input #name="ngModel" type="text" class="form-control" name="name" [(ngModel)]="image.name" required>
          <span class="form-control-feedback" *ngIf="(name.dirty || name.touched) && name.errors?.required">名称必填</span>
        </div>
      </div>
      <div class="form-group row">
        <label for="" class="col-form-label col-3">所属组织</label>
        <div class="col-9">
          <spk-user-group-select name="userGroup" [(ngModel)]="image.userGroup"></spk-user-group-select>
        </div>
      </div>
      <div class="col-5 push-7 order-2">
        <div class="">
          <img src={{src}} alt="" width="160" height="160" style="vertical-align:text-bottom;">
          <br>
          <cui-fileupload name="file" mode="file" url="/api/images/upload" [auto]="true" (uploadComplete)="onUploadComplete($event)"></cui-fileupload>
          <span class="text-muted">
            <i class="fa fa-info-circle text-info"></i> 可以在此处上载图片。格式应为 JPG, GIF 或 PNG, 大小不能超过 1MB。</span>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-9 offset-3">
          <button type="submit" class="btn btn-primary" [disabled]="!imageForm.valid">保存</button>
        </div>
      </div>
    </div>
  </div>
</form>