<form #trainBaseForm="ngForm" (ngSubmit)="onSubmit(trainBaseForm)" class="form-horizontal" *ngIf="trainBase">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">基本信息</h5>
      <div class="row">

        <div class="col-7 pull-5 order-1">
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 基地编码</label>
            <div class="col-9">
              <input #baseNo="ngModel" type="text" name="baseNo" class="form-control" [(ngModel)]="trainBase.baseNo" required disabled>
              <span style="color:#F00" class="form-control-feedback" *ngIf="(baseNo.dirty || baseNo.touched) && baseNo.errors?.required">基地编码必填</span>

            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 基地名称</label>
            <div class="col-9">
              <input #baseName="ngModel" type="text" name="baseName" class="form-control" [(ngModel)]="trainBase.baseName" required>
              <span style="color:#F00" class="form-control-feedback" *ngIf="(baseName.dirty || baseName.touched) && baseName.errors?.required">基地名称必填</span>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 基地类型</label>
            <div class="col-9">
              <select #baseType name="baseType" class="form-control w-45" [(ngModel)]="trainBase.baseType">
                <option value="N">内部培训基地</option>
                <option value="W">外部培训基地</option>
              </select>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 基地级别</label>
            <div class="col-9">
              <select name="baseLevel" class="form-control w-45" [(ngModel)]="trainBase.baseLevel">
                <option *ngIf="trainBase.baseType == 'N' " value="Z">总公司保险研究院</option>
                <option *ngIf="trainBase.baseType == 'N' " value="S">省级培训中心</option>
                <option *ngIf="trainBase.baseType == 'N' " value="C">城区培训职场</option>
                <option *ngIf="trainBase.baseType == 'N' " value="Q">其它培训场地</option>
                <option *ngIf="trainBase.baseType == 'W' " value="W">无</option>
              </select>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">建筑面积</label>
            <div class="col-9">
              <input type="text" name="buildArea" class="form-control" [(ngModel)]="trainBase.buildArea">
              <span>(平方米)</span>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 所属组织</label>
            <div class="col-9">
              <spk-user-group-select name="userGroup" [(ngModel)]="trainBase.userGroup"></spk-user-group-select>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 基地地址</label>
            <div class="col-9">
              <input #baseAddress="ngModel" type="text" name="baseAddress" class="form-control" [(ngModel)]="trainBase.baseAddress" required>
              <span style="color:#F00" class="form-control-feedback" *ngIf="(baseAddress.dirty || baseAddress.touched) && baseAddress.errors?.required">基地地址必填</span>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 联系人</label>
            <div class="col-9">
              <input #concactName="ngModel" type="text" name="concactName" class="form-control" [(ngModel)]="trainBase.concactName" required>
              <span style="color:#F00" class="form-control-feedback" *ngIf="(concactName.dirty || concactName.touched) && concactName.errors?.required">联系人必填</span>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 联系电话</label>
            <div class="col-9">
              <input #phone="ngModel" type="text" name="phone" class="form-control" [(ngModel)]="trainBase.phone" required pattern="^1(3[0-9]|4[57]|5[012356789]|7[01678]|8[0-9])\d{8}$">
              <span style="color:#F00" class="form-control-feedback" *ngIf="(phone.dirty || phone.touched) && phone.errors?.required">联系电话必填</span>
              <span style="color:#F00" class="form-control-feedback" *ngIf="(phone.dirty || phone.touched) && phone.errors?.pattern">联系电话无效</span>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 讲师人数</label>
            <div class="col-9">
              <input #teacherCount="ngModel" type="text" name="teacherCount" class="form-control" [(ngModel)]="trainBase.teacherCount"
                required>
              <span style="color:#F00" class="form-control-feedback" *ngIf="(teacherCount.dirty || teacherCount.touched) && teacherCount.errors?.required">讲师人数必填</span>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 后勤人数</label>
            <div class="col-9">
              <input #logisticsCount="ngModel" type="text" name="logisticsCount" class="form-control" [(ngModel)]="trainBase.logisticsCount"
                required>
              <span style="color:#F00" class="form-control-feedback" *ngIf="(logisticsCount.dirty || logisticsCount.touched) && logisticsCount.errors?.required">后勤人数必填</span>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-form-label col-3">
              <i class="fa fa-field-required"></i> 所在城市</label>
            <div class="col-9">
              <input #city="ngModel" type="text" name="city" class="form-control" [(ngModel)]="trainBase.city" required>
              <span style="color:#F00" class="form-control-feedback" *ngIf="(city.dirty || city.touched) && city.errors?.required">所在城市必填</span>
            </div>
          </div>
          <div class="form-group row">
            <label for="" class="col-3 col-form-label"> 基地简介</label>
            <div class="col-9">
              <cui-ueditor class="edit-box" [toolbarMode]="'um'" name="description" [(ngModel)]="trainBase.description" style="height:100px"></cui-ueditor>
            </div>
          </div>

          <div class="form-group row">
            <label for="" class="col-form-label col-3"> 上传图片</label>
            <div class="col-9">

              <cui-fileupload name="file" mode="image" url="/api/upload/file" [auto]="true" (uploadComplete)="onUploadComplete($event)"
                [imageHolder]="trainBase.url"></cui-fileupload>

              <span class="text-muted">
                <i class="fa fa-info-circle text-info"></i> 图片格式应为 JPG, GIF 或 PNG, 大小不能超过 1MB。</span>
            </div>
          </div>



        </div>
        <!-- end col-7 -->
      </div>
      <!-- end .row -->
    </div>


    <div class="card-body">
      <div class="row">
        <div class="col-7">
          <div class="form-group row">
            <div class="col-9 offset-3">
              <button type="submit" class="btn btn-primary" [disabled]="!trainBaseForm.valid">保存</button>
              <button type="button" class="btn btn-secondary" [routerLink]="[isCreate ? '..' : '../..']">取消</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


</form>