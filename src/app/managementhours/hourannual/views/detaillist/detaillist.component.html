<div class="container-fluid">
    <div class="page-header">
        <h3 class="page-title">学时管理
            <small>| 员工年度学时详情列表</small>
        </h3>
    </div>
    <div class="actions">
        <button type="button" class="btn btn-light" [routerLink]="['../../../','managementhourlist']">返回列表
            <i class="fa fa-level-up"></i>
        </button>
    </div>
</div>
<div class="box-detail-hour-list">
    <div class="top-bread">
        <!-- <nz-breadcrumb class="bread">
            <nz-breadcrumb-item>
                您所在位置：
            </nz-breadcrumb-item>
            <nz-breadcrumb-item>
                学时管理
            </nz-breadcrumb-item>
            <nz-breadcrumb-item>
                <a [routerLink]="['../../../','managementhourlist']">员工年度学时列表</a>
            </nz-breadcrumb-item>
            <nz-breadcrumb-item>
                <a class="color-active">单个员工年度学时详情列表</a>
            </nz-breadcrumb-item>
        </nz-breadcrumb>
        <div class="page-header">
            <h5 class="page-title">
                <small>员工年度学时详情列表</small>
            </h5>
        </div> -->
    </div>
    <div class="list-form-detail">
        <div class="select-body">
            <nz-spin [nzSpinning]="spinning" [nzTip]="'正在读取数据...'">
                <cui-data-table #tableHandle [columns]="columns" [data]="testListData?.content" [pagination]="testListData" [(selection)]="selection"
                    (reload)="loadData($event)" selectType="checkbox">
                    <ng-template #simpleSearch>
                        <ng-container>
                            <form nz-form [formGroup]="_searchForm" (ngSubmit)="_submitForm($event, _searchForm.value)" [nzLayout]="'horizontal'" class="cui-data-table-form-box">
                                <div nz-row class="cui-data-table-form-body">

                                    <div nz-col [nzSpan]="8" class="cui-data-table-form-row">
                                        <div nz-form-item nz-row>
                                            <div nz-form-label nz-col [nzSpan]="6">
                                                <label for="accessType">培训类型</label>
                                            </div>
                                            <div nz-col [nzSpan]="18">
                                                <nz-select formControlName="accessType" [nzSize]="'large'" [nzPlaceHolder]="'请选择类型'" nzAllowClear [nzShowSearch]="true">
                                                    <nz-option [nzLabel]="'全部'" [nzValue]="''"></nz-option>
                                                    <nz-option [nzLabel]="'申报'" [nzValue]="'Declare'"></nz-option>
                                                    <nz-option [nzLabel]="'在线课程'" [nzValue]="'ELearning'"></nz-option>
                                                    <nz-option [nzLabel]="'讲师授课'" [nzValue]="'Teacher'"></nz-option>
                                                    <!-- <nz-option [nzLabel]="'上年度结转'" [nzValue]="'CarryOver'"></nz-option> -->
                                                </nz-select>
                                            </div>
                                        </div>
                                    </div>
                                    <div nz-col [nzSpan]="8" class="cui-data-table-form-row">
                                        <div nz-form-item nz-row>
                                            <div nz-form-label nz-col [nzSpan]="6">
                                                <label for="searchName">名称</label>
                                            </div>
                                            <div nz-col [nzSpan]="18">
                                                <nz-input formControlName="searchName" [nzPlaceHolder]="'请输入课程或培训班名称'"></nz-input>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="cui-data-table-form-row">
                                        <div class='simple-search-bar-search-box'>
                                            <button type="submit" nz-button [nzType]="'primary'" class='search-btn'>
                                                <i class="fa fa-search"></i>查询</button>
                                            <!-- <button type="button" class="btn btn-link" (click)="tableHandle.isComplexSearch=true">高级查询</button> -->
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </ng-container>
                    </ng-template>
                    <ng-template #complexSearch>
                        <ng-container>
                            <form nz-form [formGroup]="_searchForm" (ngSubmit)="_submitForm($event, _searchForm.value)" [nzLayout]="'horizontal'" class="cui-data-table-form-box">
                                <div nz-row class="cui-data-table-form-body">
                                    <div nz-col [nzSpan]="8" class="cui-data-table-form-row">
                                        <div nz-form-item nz-row>
                                            <div nz-form-label nz-col [nzSpan]="6">
                                                <label for="year">学时</label>
                                            </div>
                                            <div nz-col [nzSpan]="18">
                                                <nz-input formControlName="periodNumber" [nzPlaceHolder]="'请输入学时'"></nz-input>
                                            </div>
                                        </div>
                                    </div>

                                    <div nz-col [nzSpan]="8" class="cui-data-table-form-row">
                                        <div nz-form-item nz-row>
                                            <div nz-form-label nz-col [nzSpan]="6">
                                                <label for="accessType">培训类型</label>
                                            </div>
                                            <div nz-col [nzSpan]="18">
                                                <nz-select formControlName="accessType" [nzSize]="'large'">
                                                    <nz-option [nzLabel]="'全部'" [nzValue]="''"></nz-option>
                                                    <nz-option [nzLabel]="'申报'" [nzValue]="'Declare'"></nz-option>
                                                    <nz-option [nzLabel]="'在线课程'" [nzValue]="'ELearning'"></nz-option>
                                                    <nz-option [nzLabel]="'讲师授课'" [nzValue]="'Teacher'"></nz-option>
                                                    <!-- <nz-option [nzLabel]="'上年度结转'" [nzValue]="'CarryOver'"></nz-option> -->
                                                </nz-select>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="cui-data-table-form-row">
                                        <div class='complex-search-bar-search-box'>
                                            <button nz-button [nzType]="'primary'" [nzSize]="'large'" class='search-btn'>
                                                <i class="fa fa-search"></i>查询</button>
                                            <button type="button" class="btn btn-link" (click)="tableHandle.isComplexSearch=false">简单查询</button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </ng-container>
                    </ng-template>
                    <ng-template #listTools>
                        <div class="btn-group">
                            <button *spkAuthzIf="{hasPermission: 'PERIOD:HISTORY:VIEW'}" [title]="testListData&&testListData.content.length==0?'无数据不可导':''"
                                [disabled]="testListData&&testListData.content.length==0" (click)="export($event)" nz-button
                                [nzType]="'primary'">
                                <i class="iconfont icon-daochu"></i> 导出</button>
                        </div>
                    </ng-template>
                    <ng-template cuiColTpl="username" let-row="row">
                        <span>{{row.user?.username}}</span>
                    </ng-template>
                    <ng-template cuiColTpl="displayName" let-row="row">
                        <span>{{row.user?.displayName}}</span>
                    </ng-template>
                    <ng-template cuiColTpl="accessType" let-row="row">
                        <span *ngIf="row.type=='ELearning'" style="color:green;">在线课程</span>
                        <span *ngIf="row.type=='Declare'" style="color:orange">申报</span>
                        <span *ngIf="row.type=='Teacher'" style="color:orange">讲师授课</span>
                        <span *ngIf="row.type=='CarryOver'" style="color:orange">上年度结转</span>
                    </ng-template>
                    <ng-template cuiColTpl="headquartersCourse" let-row="row">
                        <span *ngIf="row.headquartersCourse" style="color:green;">总部课程</span>
                        <span *ngIf="!row.headquartersCourse" style="color:orange">非总部课程</span>
                    </ng-template>
                    <ng-template cuiColTpl="actions" let-row="row">
                        <!-- <i title="查看详情" style="cursor: pointer" (click)="preview(row)" class="anticon anticon-eye"></i> -->
                    </ng-template>

                </cui-data-table>
            </nz-spin>
        </div>
    </div>
</div>