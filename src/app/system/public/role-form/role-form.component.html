<form nz-form [formGroup]="_form" [nzLayout]="'horizontal'">
    <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSpan]="4">
            <label nz-form-item-required>角色名称</label>
        </div>
        <div nz-form-control nz-col [nzSpan]="8" class="pl-3" [nzValidateStatus]="getFormControl('name')">
            <input nz-input formControlName="name" required maxlength="30">
            <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">角色名称必填</div>
        </div>
    </div>

    <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSpan]="4">
            <label nz-form-item-required>角色权限</label>
        </div>
        <div nz-form-control nz-col [nzSpan]="20" [nzValidateStatus]="getFormControl('privileges')">
            <spk-privilege-form-control formControlName="privileges"></spk-privilege-form-control>
            <div nz-form-explain *ngIf="getFormControl('privileges').dirty&&getFormControl('privileges').hasError('required')">角色角色必填</div>
        </div>
    </div>

    <div nz-row>
        <div nz-col [nzSpan]="8" [nzOffset]="4">
            <button nz-button [nzType]="'primary'" (click)="_save($event)" *spkAuthzIf="{hasPermission: ['SYSTEM:ROLE:EDIT', 'SYSTEM:ROLE:ADD']}"
                [nzLoading]="loading" [disabled]="_form.invalid"> 保 存 </button>
            <button nz-button [nzType]="'default'" (click)="_cancel($event)"> 取 消 </button>
        </div>
    </div>
</form>